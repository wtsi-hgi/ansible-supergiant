---

version: "3"

services:
  supergiant-test-runner:
    container_name: supergiant-test-runner
    build:
      context: ../../
      dockerfile: tests/docker/Dockerfile.test.runner
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - shared-volume:/shared
    depends_on:
      - supergiant-ubuntu-xenial-test-instance

  supergiant-ubuntu-xenial-test-instance:
    container_name: supergiant-ubuntu-xenial-test-instance
    build:
      context: .
      dockerfile: Dockerfile.test.xenial
    volumes:
      - shared-volume:/shared

networks:
  default:

volumes:
  shared-volume:
